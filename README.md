# Обновление статуса заказа в Bitrix из 1C
Обновление статуса заказа по API

В ходе разработки интенет-магазина со сложной интеграцией с 1С и другими сервисами, возникла потребность изменять статусы в Битрикс не только в рамках стандартного обмена.

4х стандартных статусов нам было мало, так как у нас насчитывалось порядка 14 своих статусов связанных с фулфилмент компанией.

Долго думали как кастомизировать обмен заказами, пока 1С до этого не дошли сами и решили написать небольшой API сервис для изменения статуса заказа.

## Описание
1. Нужно создать пользователя для обмена в Bitrix
2. Я положил файл обмена в папку /bitrix/tools/
3. Настроить запрос API в 1С при изменении статуса заказа

Документация:
Ссылка для запроса : https://#сайт#/bitrix/tools/1c_status_update.php

Метод запроса : POST

Необходимые данные в теле запроса :

login = #логин_пользователя_битрикс#

password = #пароль_пользователя_битрикс#

id = (id заказа интернет магазина в формате MYSHOP-#, например: MYSHOP-11)

status = (буквенный код статуса, обязательно в верхнем регистре, например: А )



###Ответы на запрос:

OK - запрос успешно выполнен

Authorization data except - не указан логин или пароль

Authorization failed - не правильно указан логин или пароль

Order ID mismutch - не корректно указан ID заказа

Wrong order status - не корректно указан код заказа

Status mismutch - такого статуса не существует в Bitrix

Order update error  - ошибка на стороне Bitrix при обновлении заказа

*Строгое соответствие кодов статусов в 1С и Битрикс обязательно
